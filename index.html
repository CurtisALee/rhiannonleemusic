<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/main.css">
  <title>Rhiannon lee | Hand To Hold</title>
  <meta name="description" content="I'm Rhiannon Lee, a singer-songwriter from Nottingham. Check out my new single Hand To Hold!">
  <!-- Favicon coming soon -->
</head>
<body>

  <nav class="nav">
    <a href="index.html" class="nav__logo">
      R.L
    </a>
    <div class="nav__actions">
      <a href="feels-on-sunday.html" class="nav__link">Feels on Sunday</a>
      <a href="set-me-free.html" class="nav__link">Set Me Free</a>
      <a href="https://www.instagram.com/rhiannon.lee?utm_source=ig_web_button_share_sheet&igsh=OGQ5ZDc2ODk2ZA==" class="nav__link nav__link--social" target="_blank">
        <img class="nav__social-image" src="assets/instagram.svg" alt="Follow me on Instagram!">
        Instagram
      </a>
    </div>
  </nav>

  <section class="hero">
    <div class="container">
      <div class="preview-block">
        <img src="assets/rhiannon-hero-hth.jpg" alt="Me next to a phone box!" class="preview-block__image">
        <div class="preview-block__content">
          <h1 class="preview-block__title">Hand To Hold</h1>
          <p class="preview-block__subtitle">Rhiannon Lee</p>
          <div class="preview-link" onclick="toggleAudio()">
            <audio preload="metadata" controls controlslist="nodownload">
              <source src="assets/hth-preview.mp3" type="audio/mpeg">
            </audio>
            <div class="play-button">Preview:<span class="duration">0:00</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!--<section class="link-wrapper">
    <div class="container">
      <div class="link-list">
        <button class="song-link song-link--copy-link">Share This Page</button>
        <a href="https://open.spotify.com/track/3Ajt5mM8AeVt7ciNENAmab?si=b58badf5421a49b0" class="song-link" target="_blank">Listen on Spotify</a>
        <a href="https://music.apple.com/gb/album/set-me-free-single/1718866925" class="song-link" target="_blank">Listen on Apple Music</a>
        <a href="https://music.apple.com/gb/album/set-me-free/1718866925?i=1718866929" class="song-link" target="_blank">Download on iTunes</a>
        <a href="https://music.amazon.co.uk/albums/B0CP51YZVK?do=play&trackAsin=B0CP4ZP21V&ref=dm_sh_CxqivvDdniZAOBfeaph3eYdU5" class="song-link" target="_blank">Listen on Amazon Music</a>
        <a href="https://deezer.page.link/FjCYffZE9hK1tUgMA" class="song-link" target="_blank">Listen on Deezer</a>
        <a href="https://tidal.com/browse/track/331801745" class="song-link" target="_blank">Listen on Tidal</a>
      </div>
    </div>
  </section>-->

  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <div class="footer__email">
          <h2 class="footer__title">Contact me</h2>
          <div class="footer__email-wrapper">
            <input type="text" value="rhiannonlee2012@gmail.com" id="email-input" readonly>
            <div class="tooltip">
            <button onclick="copyEmail()" onmouseout="emailCopied()" class="copy-button">
              <span class="tooltiptext" id="tooltip">Copy to clipboard</span>
              Copy email
            </button>
            </div>
          </div>
        </div>
        <a href="https://www.instagram.com/rhiannonlee.x/?igshid=MzRlODBiNWFlZA%3D%3D" class="nav__link nav__link--social" target="_blank">
          <img class="nav__social-image" src="assets/instagram.svg" alt="Follow me on Instagram!">
          Follow me on Instagram
        </a>
      </div>
    </div>
    <div class="footer__copyright">
      <div class="footer__copyright--inner">
        <p>&copy; <script>document.write(new Date().getFullYear())</script>
          Rhiannon Lee
        </p>
        <p>Made in Nottingham, UK</p>
      </div>
    </div>
  </footer>

  <!-- Eventually download links will go after hero // Add favicons, Optimise images, Create About page, Add SEO -->

  <script>

    // Thank you: https://codepen.io/Brydave/pen/QWywPwG

    const audio = document.querySelector('audio');
    const container = document.querySelector('.preview-link');
    const audioDuration = document.querySelector('.duration');
    const playButton = document.querySelector('.play-button');
    let isPlaying = false;

    const toggleAudio = (event) => {
      if (isPlaying) {
        audio.pause()
        isPlaying = false
        playButton.classList.remove('playing')
      } else {
        audio.play()
        isPlaying = true
        playButton.classList.add('playing')
      }
    }

    audio.onloadedmetadata = () => {
      let minutes = Math.floor(audio.duration / 60)
      let seconds = Math.floor(audio.duration - minutes * 60)
      audioDuration.innerHTML = `${minutes}:${seconds}`
    }

    // Copy email to clipboard

    function copyEmail() {
      var copyText = document.getElementById("email-input");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(copyText.value);
      
      var tooltip = document.getElementById("tooltip");
      tooltip.innerHTML = "Copied! âœ¨";
    }

    function emailCopied() {
      var tooltip = document.getElementById("tooltip");
      tooltip.innerHTML = "Copy to clipboard";
    }

    // Copy URL

    document.addEventListener('DOMContentLoaded', function () {
      const button = document.querySelector('.song-link--copy-link');

      button.addEventListener('click', function () {
        const tempInput = document.createElement('input');
        tempInput.value = window.location.href;

        document.body.appendChild(tempInput);

        tempInput.select();

        document.execCommand('copy');

        document.body.removeChild(tempInput);

        alert('URL copied to clipboard: ' + window.location.href);
      });
    });

  </script>
</body>
</html>
