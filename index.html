<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/main.css">
  <title>Rhiannon lee | Feels on Sunday</title>
  <meta name="description" content="I'm Rhiannon Lee, a singer-songwriter from Nottingham. Check out my new single Feels On Sunday!">
  <!-- Favicon coming soon -->
</head>
<body>

  <nav class="nav">
    <a class="nav__logo">
      R.L
    </a>
    <div class="nav__actions">
      <!--<a href="#" class="nav__link">About me</a> -->
      <a href="https://www.instagram.com/rhiannonlee.x/?igshid=MzRlODBiNWFlZA%3D%3D" class="nav__link nav__link--social" target="_blank">
        <img class="nav__social-image" src="assets/instagram.svg" alt="Follow me on Instagram!">
        Instagram
      </a>
    </div>
  </nav>

  <section class="hero">
    <div class="container">
      <div class="preview-block">
        <img src="assets/rhiannon-hero.jpg" alt="Me in a field!" class="preview-block__image">
        <div class="preview-block__content">
          <h1 class="preview-block__title">Feels on Sunday</h1>
          <p class="preview-block__subtitle">Rhiannon Lee</p>
          <div class="preview-link" onclick="toggleAudio()">
            <audio preload="metadata" controls controlslist="nodownload">
              <source src="assets/fos-preview.mp3" type="audio/mpeg">
            </audio>
            <div class="play-button">Preview:<span class="duration">0:00</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="link-wrapper">
    <div class="container">
      <div class="link-list">
        <button class="song-link song-link--copy-link">Share This Page</button>
        <a href="https://www.bbc.co.uk/sounds/play/p0fz0cdd" class="song-link" target="_blank">Listen on BBC Music (30:40)</a>
        <a href="https://open.spotify.com/track/4wb8Geq07uSwnnRBv09bHr?si=226acda408714359" class="song-link" target="_blank">Listen on Spotify</a>
        <a href="https://music.apple.com/gb/album/feels-on-sunday-single/1695595408" class="song-link" target="_blank">Listen on Apple Music</a>
        <a href="http://itunes.apple.com/album/id1695595408?ls=1&app=itunes" class="song-link" target="_blank">Download on iTunes</a>
        <a href="https://music.amazon.co.uk/albums/B0CB1RPF6T?do=play&trackAsin=B0CB1QCVMX&ref=dm_sh_I9ThENiiUpnf749hFMADgkd6D" class="song-link" target="_blank">Listen on Amazon Music</a>
        <a href="https://deezer.page.link/2Gska1oMEYSfC4Fy8" class="song-link" target="_blank">Listen on Deezer</a>
        <a href="https://tidal.com/browse/track/302946418" class="song-link" target="_blank">Listen on Tidal</a>
      </div>
      <div class="featured">
        <p class="featured__text">Featured on</p>
        <img src="assets/bbc-introducing-logo.png" alt="The BBC Introducing logo" class="featured__image">
        <span class="featured__subtext">And selected for prime time airplay on BBC Radio Notts & Leicester!</span>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <div class="footer__email">
          <h2 class="footer__title">Contact me</h2>
          <div class="footer__email-wrapper">
            <input type="text" value="rhiannonlee2012@gmail.com" id="email-input" readonly>
            <div class="tooltip">
            <button onclick="copyEmail()" onmouseout="emailCopied()" class="copy-button">
              <span class="tooltiptext" id="tooltip">Copy to clipboard</span>
              Copy email
            </button>
            </div>
          </div>
        </div>
        <a href="https://www.instagram.com/rhiannonlee.x/?igshid=MzRlODBiNWFlZA%3D%3D" class="nav__link nav__link--social" target="_blank">
          <img class="nav__social-image" src="assets/instagram.svg" alt="Follow me on Instagram!">
          Follow me on Instagram
        </a>
      </div>
    </div>
    <div class="footer__copyright">
      <div class="footer__copyright--inner">
        <p>&copy; <script>document.write(new Date().getFullYear())</script>
          Rhiannon Lee
        </p>
        <p>Made in Nottingham, UK</p>
      </div>
    </div>
  </footer>

  <!-- Eventually download links will go after hero // Add favicons, Optimise images, Create About page, Add SEO -->

  <script>

    // Thank you: https://codepen.io/Brydave/pen/QWywPwG

    const audio = document.querySelector('audio');
    const container = document.querySelector('.preview-link');
    const audioDuration = document.querySelector('.duration');
    const playButton = document.querySelector('.play-button');
    let isPlaying = false;

    const toggleAudio = (event) => {
      if (isPlaying) {
        audio.pause()
        isPlaying = false
        playButton.classList.remove('playing')
      } else {
        audio.play()
        isPlaying = true
        playButton.classList.add('playing')
      }
    }

    audio.onloadedmetadata = () => {
      let minutes = Math.floor(audio.duration / 60)
      let seconds = Math.floor(audio.duration - minutes * 60)
      audioDuration.innerHTML = `${minutes}:${seconds}`
    }

    // Copy email to clipboard

    function copyEmail() {
      var copyText = document.getElementById("email-input");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(copyText.value);
      
      var tooltip = document.getElementById("tooltip");
      tooltip.innerHTML = "Copied! âœ¨";
    }

    function emailCopied() {
      var tooltip = document.getElementById("tooltip");
      tooltip.innerHTML = "Copy to clipboard";
    }

    // Copy URL

    document.addEventListener('DOMContentLoaded', function () {
      const button = document.querySelector('.song-link--copy-link');

      button.addEventListener('click', function () {
        const tempInput = document.createElement('input');
        tempInput.value = window.location.href;

        document.body.appendChild(tempInput);

        tempInput.select();

        document.execCommand('copy');

        document.body.removeChild(tempInput);

        alert('URL copied to clipboard: ' + window.location.href);
      });
    });

  </script>
</body>
</html>
